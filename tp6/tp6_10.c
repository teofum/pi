#include <stdio.h>

#define ROWC 10
#define COLC 30

void graph(const int sky[][COLC], int rows, int cols);

int main(void) {
  int sky1[ROWC][COLC] = {{0}};

  puts("Should print 8 blank rows:");

  graph(sky1, ROWC, COLC);
  puts("-----------------------------");

  int sky2[ROWC][COLC] = {
      {10, 17, 6,  15, 6,  7,  8, 9, 11, 12, 13, 15, 8, 10, 11,
       13, 14, 15, 18, 20, 11, 8, 2, 3,  12, 13, 11, 3, 9,  20},
      {18, 17, 6,  5,  6,  7,  8, 9, 11, 12, 13, 5,  8, 10, 1,
       13, 14, 15, 18, 20, 11, 8, 2, 3,  12, 13, 11, 3, 9,  20},
      {10, 15, 16, 15, 6,  17, 8, 19, 11, 12, 13, 1,  8, 10, 11,
       1,  14, 15, 18, 20, 11, 8, 2,  3,  12, 23, 11, 3, 9,  20},
      {12, 2,  6,  5,  16, 7,  8, 9, 1, 12, 13, 15, 8, 10, 1,
       13, 14, 15, 18, 20, 11, 8, 2, 3, 12, 23, 11, 3, 9,  20},
      {8,  5,  4,  15, 6,  7,  8, 9,  12, 12, 13, 5,  8, 10, 11,
       13, 14, 15, 18, 20, 11, 8, 12, 3,  12, 23, 11, 3, 9,  20},
      {20, 19, 18, 15, 16, 7,  8, 9,  11, 12, 13, 15, 18, 10, 11,
       13, 14, 15, 18, 20, 11, 8, 12, 3,  12, 23, 11, 3,  9,  20},
      {10, 9,  9,  15, 16, 7,  8, 9, 12, 12, 13, 11, 8, 10, 1,
       13, 14, 15, 18, 20, 11, 8, 2, 13, 12, 23, 11, 3, 9,  20},
      {10, 12, 9,  6,  16, 7,  8, 9, 15, 12, 13, 15, 18, 10, 11,
       13, 14, 15, 18, 20, 11, 8, 2, 3,  12, 23, 11, 3,  9,  20},
      {10, 7,  9,  15, 6,  7,  8, 9, 11, 12, 13, 15, 8, 10, 1,
       10, 14, 15, 18, 20, 11, 8, 2, 3,  12, 23, 11, 3, 9,  20},
      {10, 17, 16, 15, 6,  7,  8, 9, 11, 12, 13, 15, 8, 10, 11,
       3,  14, 15, 18, 20, 11, 8, 2, 3,  12, 23, 11, 3, 9,  20},
  };

  puts("Expected output:");
  puts("**     **      *****    *");
  puts("*              *****   ***");
  puts("        *      *****   ***");
  puts("  *     ****  ******   ***");
  puts("****    ***   ******   ***");
  puts("****   *****  ******   ***");
  puts("  *    *****   *****   ***");
  puts("**     *****   *****   ***");

  puts("-----------------------------");
  puts("Actual output:");
  graph(sky2, ROWC, COLC);
  puts("-----------------------------");

  return 0;
}

int sample(const int sky[][COLC], int i, int j) {
  int sum = 0;
  for (int ii = -1; ii <= 1; ii++) {
    for (int jj = -1; jj <= 1; jj++) {
      sum += sky[i + ii][j + jj];
    }
  }

  return sum / 9;
}

void graph(const int sky[][COLC], int rows, int cols) {
  for (int i = 1; i < ROWC - 1; i++) {
    for (int j = 1; j < COLC - 1; j++) {
      putchar(sample(sky, i, j) > 10 ? '*' : ' ');
    }
    putchar('\n');
  }
}
